(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{395:function(t,a,n){"use strict";n.r(a);var e=n(46),s=Object(e.a)({},(function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"主要逻辑分析"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#主要逻辑分析"}},[t._v("#")]),t._v(" 主要逻辑分析")]),t._v(" "),n("p",[t._v("介绍机票流程的主要逻辑")]),t._v(" "),n("h2",{attrs:{id:"首页"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#首页"}},[t._v("#")]),t._v(" 首页")]),t._v(" "),n("p",[t._v("首页分为机票首页和个人中心两个页面")]),t._v(" "),n("ul",[n("li",[t._v("机票首页包括轮播图、城市选择、日期选择、搜索、优惠券、精选航线展示等功能")]),t._v(" "),n("li",[t._v("个人中心包括优惠券、积分以及功能导航选项")])]),t._v(" "),n("h3",{attrs:{id:"轮播图"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#轮播图"}},[t._v("#")]),t._v(" 轮播图")]),t._v(" "),n("p",[t._v("展示规则：根据字段status，若值为1则展示轮播图")]),t._v(" "),n("p",[t._v("跳转规则：根据字段activityname，若值可被'-'分割且【1】为inside则项目内跳转 否则直接跳转外部")]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("loadBannerLink")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" url")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" temp "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("split")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'-'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" flag "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" temp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("temp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'inside'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("flag"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  \t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$router"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("url"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  \twindow"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("location"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("href "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" url\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h3",{attrs:{id:"起始城市"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#起始城市"}},[t._v("#")]),t._v(" 起始城市")]),t._v(" "),n("p",[t._v("展示规则：若没有缓存，则展示定位的当前城市")]),t._v(" "),n("h3",{attrs:{id:"日期"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#日期"}},[t._v("#")]),t._v(" 日期")]),t._v(" "),n("p",[t._v("进入选择日期页面时先请求低价日历接口获取，以便页面展示")]),t._v(" "),n("h3",{attrs:{id:"搜索"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#搜索"}},[t._v("#")]),t._v(" 搜索")]),t._v(" "),n("ul",[n("li",[t._v("起始城市非空判断")]),t._v(" "),n("li",[t._v("增加搜索历史记录")]),t._v(" "),n("li",[t._v("查询历史搜索列表接口")])]),t._v(" "),n("h3",{attrs:{id:"优惠券"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#优惠券"}},[t._v("#")]),t._v(" 优惠券")]),t._v(" "),n("ul",[n("li",[t._v("配置显示")]),t._v(" "),n("li",[t._v("优惠券展示类型\n"),n("ol",[n("li",[t._v("新人券 couponType === 5")]),t._v(" "),n("li",[t._v("限时券 couponType === 4")]),t._v(" "),n("li",[t._v("其他券")])])])]),t._v(" "),n("h3",{attrs:{id:"个人中心"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#个人中心"}},[t._v("#")]),t._v(" 个人中心")]),t._v(" "),n("ul",[n("li",[t._v("积分和优惠券配置展示")]),t._v(" "),n("li",[t._v("功能导航栏。\n"),n("strong",[t._v("值机选座、问题反馈跳转H5-common项目")])])]),t._v(" "),n("h2",{attrs:{id:"查询列表"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#查询列表"}},[t._v("#")]),t._v(" 查询列表")]),t._v(" "),n("p",[t._v("列表页主要包含以下几个功能")]),t._v(" "),n("ul",[n("li",[t._v("日期tab")]),t._v(" "),n("li",[t._v("列表展示")]),t._v(" "),n("li",[t._v("数据筛选以及排序")]),t._v(" "),n("li",[t._v("改签")]),t._v(" "),n("li",[t._v("页面缓存")])]),t._v(" "),n("h3",{attrs:{id:"日期tab"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#日期tab"}},[t._v("#")]),t._v(" 日期tab")]),t._v(" "),n("p",[t._v("展示距离当前选择日期往后4天的日期选择")]),t._v(" "),n("ul",[n("li",[t._v("点击日期tab 重新请求数据")]),t._v(" "),n("li",[t._v("选择低价日历进入日期选择页面 返回则刷新日期tab并请求数据")])]),t._v(" "),n("h3",{attrs:{id:"疫情提醒通知"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#疫情提醒通知"}},[t._v("#")]),t._v(" 疫情提醒通知")]),t._v(" "),n("p",[t._v("根据列表返回的字段（"),n("strong",[t._v("tips")]),t._v("）决定是否展示疫情通知相关信息")]),t._v(" "),n("h3",{attrs:{id:"列表信息展示"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#列表信息展示"}},[t._v("#")]),t._v(" 列表信息展示")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("经停  stops > 0")])]),t._v(" "),n("li",[n("p",[t._v("跨天数  计算到达时间和起飞时间的时间差")])]),t._v(" "),n("li",[n("p",[t._v("票数展示 saleSeats === ‘A’ 票量充足")])]),t._v(" "),n("li",[n("p",[t._v("航司icon "),n("code",[t._v("https://yunji-flight.oss-cn-shenzhen.aliyuncs.com/images/airlineIcon/${compImg}")])])]),t._v(" "),n("li",[n("p",[t._v("舱等信息展示")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("minDiscount 折扣")])]),t._v(" "),n("li",[n("p",[t._v("isHasBOrFCabin 头等舱/商务舱")])]),t._v(" "),n("li",[n("p",[t._v("isHasEconomyCabin 经济舱")]),t._v(" "),n("p",[t._v("若minDiscount >= 10 则展示经济舱或者头等舱/商务舱全家，否则则按minDiscount展示对应的折扣")])])])])]),t._v(" "),n("h3",{attrs:{id:"筛选"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#筛选"}},[t._v("#")]),t._v(" 筛选")]),t._v(" "),n("p",[t._v("筛选数据来源")]),t._v(" "),n("ul",[n("li",[t._v("起飞时间 24h")]),t._v(" "),n("li",[t._v("航司 acCompMap")]),t._v(" "),n("li",[t._v("舱等  经济舱 头等舱/商务舱")]),t._v(" "),n("li",[t._v("起飞机场 depAirportCompMap")]),t._v(" "),n("li",[t._v("到达机场 arrAirportCompMap")])]),t._v(" "),n("h3",{attrs:{id:"改签"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#改签"}},[t._v("#")]),t._v(" 改签")]),t._v(" "),n("p",[t._v("根据订单详情跳转传参判断是否是改签查询")]),t._v(" "),n("h3",{attrs:{id:"缓存"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#缓存"}},[t._v("#")]),t._v(" 缓存")]),t._v(" "),n("p",[t._v("首页 => 列表 => 详情  => 列表 缓存页面")]),t._v(" "),n("p",[t._v("列表 => 首页 清除缓存 clearCache")]),t._v(" "),n("h2",{attrs:{id:"机票详情"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#机票详情"}},[t._v("#")]),t._v(" 机票详情")]),t._v(" "),n("h3",{attrs:{id:"经停信息展示"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#经停信息展示"}},[t._v("#")]),t._v(" 经停信息展示")]),t._v(" "),n("p",[t._v("stops>0")]),t._v(" "),n("h3",{attrs:{id:"数据类型-pricetype"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#数据类型-pricetype"}},[t._v("#")]),t._v(" 数据类型(priceType)")]),t._v(" "),n("p",[t._v("经济舱特价数据不选择意外保险的情况下机票价格+10")]),t._v(" "),n("h3",{attrs:{id:"tag标签展示"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#tag标签展示"}},[t._v("#")]),t._v(" tag标签展示")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("经济舱:\nsuppsaleType = qspecial  && priceType = 0: 针对所有: 有保险的: 特惠低价\nsuppsaleType = qnormal  && priceType = 1: 针对所有: 报销无忧")]),t._v(" "),n("p",[t._v("suppsaleType = IBE && priceType = 1 打第一个: 报销无忧")])]),t._v(" "),n("li",[n("p",[t._v("商务舱:\nsuppsaleType = qspecial 打第一个: 特惠低价\nsuppsaleType = IBE && priceType = 1 打第一个: 报销无忧")])])]),t._v(" "),n("h3",{attrs:{id:"验价"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#验价"}},[t._v("#")]),t._v(" 验价")]),t._v(" "),n("p",[t._v("点击预订先进行验价操作成功后才能进行创单, 返回数据作为下单参数传递过去")]),t._v(" "),n("h2",{attrs:{id:"创单"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#创单"}},[t._v("#")]),t._v(" 创单")]),t._v(" "),n("h3",{attrs:{id:"乘客操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#乘客操作"}},[t._v("#")]),t._v(" 乘客操作")]),t._v(" "),n("ol",[n("li",[t._v("删除选择乘客")]),t._v(" "),n("li",[t._v("编辑选择乘客")])]),t._v(" "),n("h3",{attrs:{id:"行程单"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#行程单"}},[t._v("#")]),t._v(" 行程单")]),t._v(" "),n("p",[t._v("可选")]),t._v(" "),n("p",[t._v("点击选择请求接口获取上次行程信息")]),t._v(" "),n("h3",{attrs:{id:"下单"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#下单"}},[t._v("#")]),t._v(" 下单")]),t._v(" "),n("p",[t._v("伪装loading状态")]),t._v(" "),n("p",[t._v("下单完成后延时取消loading面板")]),t._v(" "),n("h2",{attrs:{id:"订单列表"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#订单列表"}},[t._v("#")]),t._v(" 订单列表")]),t._v(" "),n("h3",{attrs:{id:"tab筛选展示"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#tab筛选展示"}},[t._v("#")]),t._v(" tab筛选展示")]),t._v(" "),n("p",[t._v("前端根据状态筛选做订单筛选")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"center"}}),t._v(" "),n("th",{staticStyle:{"text-align":"center"}},[t._v("全部")]),t._v(" "),n("th",{staticStyle:{"text-align":"center"}},[t._v("有效单")]),t._v(" "),n("th",{staticStyle:{"text-align":"center"}},[t._v("待支付")]),t._v(" "),n("th",{staticStyle:{"text-align":"center"}},[t._v("退款单")])])]),t._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"center"}},[t._v("status")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("-")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("2，3")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("0，1，10，11")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("3")])])])]),t._v(" "),n("h2",{attrs:{id:"订单详情"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#订单详情"}},[t._v("#")]),t._v(" 订单详情")]),t._v(" "),n("h3",{attrs:{id:"改签航班信息展示"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#改签航班信息展示"}},[t._v("#")]),t._v(" 改签航班信息展示")]),t._v(" "),n("p",[t._v("改签航班信息展示与原航班信息展示共用一个模版，但是接口返回数据字段不一致，需要做一次映射处理，使其与原航班数据字段保持一致")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 处理改签数据方便模版渲染")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("dealChangeListToOrderInfo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("data")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("chgInfoList "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("el")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 渲染字段映射")]),t._v("\n      el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("departdate "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("chgDepDate\n      el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("deptime "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("chgDepTime\n      el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("arrdate "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("chgArrDate\n      el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("arrtime "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("chgArrTime\n\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("delete")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("chgDepDate\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("delete")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("chgDepTime\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("delete")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("chgArrDate\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("delete")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("chgArrTime\n\n      el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("depcitycn "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("chgDepCityCn\n      el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("arrcitycn "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("chgArrCityCn\n      el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cabinclass "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("chgCabinClass\n\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("delete")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("chgDepCityCn\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("delete")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("chgArrCityCn\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("delete")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("chgCabinClass\n\n      el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("depterminal "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("departTerminal\n      el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("arrterminal "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("arrTerminal\n      el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("stopInfo "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("chgStopInfo\n      el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("duration "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("chgDuration\n\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("delete")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("departTerminal\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("delete")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("arrTerminal\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("delete")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("chgStopInfo\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("delete")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("chgDuration\n\n      el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("accn "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("chgCarrierName\n      el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("flightno "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("chgFlightNo\n      el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hasmeal "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("isMeal\n\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("delete")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("chgCarrierName\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("delete")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("chgFlightNo\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("delete")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("isMeal\n\n      el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("operatingcode "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("chgoperatingcode\n      el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("operatingcarrier "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("chgoperatingcarrier\n      el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("operatingairlinename "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("chgoperatingairlinename\n      el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("operatingcode "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("chgoperatingcode\n\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("delete")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("chgoperatingcode\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("delete")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("chgoperatingcarrier\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("delete")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("chgoperatingairlinename\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("delete")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("chgoperatingcode\n\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 行李额规则处理  改签单")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("luggageRules "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("luggageRules"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("luggageRules"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("lu")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("lu"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tyLuggageRules "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" lu "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 托运行李额")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("lu"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("stLuggageRules "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" lu "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 手提行李额")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" el\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("chgInfoList "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h3",{attrs:{id:"退票"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#退票"}},[t._v("#")]),t._v(" 退票")]),t._v(" "),n("ol",[n("li",[t._v("判断退改人是否存在退票单")]),t._v(" "),n("li",[t._v("展示预估退票费用面板")]),t._v(" "),n("li",[t._v("选择退票理由")]),t._v(" "),n("li",[t._v("提交退票申请")])]),t._v(" "),n("h3",{attrs:{id:"改签-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#改签-2"}},[t._v("#")]),t._v(" 改签")]),t._v(" "),n("ol",[n("li",[t._v("判断退改人是否存在改签单")]),t._v(" "),n("li",[t._v("展示改签费用面板")]),t._v(" "),n("li",[t._v("跳转改签列表页选择航班 query: { isChangeFlag: true }")]),t._v(" "),n("li",[t._v("提交改签申请")])]),t._v(" "),n("h3",{attrs:{id:"取消订单"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#取消订单"}},[t._v("#")]),t._v(" 取消订单")]),t._v(" "),n("p",[t._v("取消弹框：含泪取消，立即支付")]),t._v(" "),n("h2",{attrs:{id:"接口说明"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#接口说明"}},[t._v("#")]),t._v(" 接口说明")]),t._v(" "),n("h3",{attrs:{id:"航班列表查询"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#航班列表查询"}},[t._v("#")]),t._v(" 航班列表查询")]),t._v(" "),n("p",[t._v("https://flighttest.yhair.cc/yhtestqueryservice/flight/flightQuery")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  arrCity"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SHA"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  depCity"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CAN"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  departDate"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2021-12-09"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("{\n\tacCompMap: [  筛选航司数据\n\t\t{\n\t\t\tcarr: '',\n\t\t\tairName: ''\n\t\t}\n\t],\n\tarrAirportCompMap: [ 筛选到达机场数据\n\t\t{\n\t\t\tarrAirport: '',\n\t\t\tarrAirportAbbr: ''\n\t\t}\n\t],\n\tdepAirportCompMap: [ 筛选出发机场数据\n\t\t{\n\t\t\tdepAirport: '',\n\t\t\tdepAirportAbbr: ''\n\t\t}\n\t],\n\ttips: [ 防疫通知\n\t\t{\n\t\t\ttitle: '',\n\t\t\ttext: ''\n\t\t}\n\t],\n\tflights: [\n\t\t{\n\t\t\tdptTime: '', 起飞时间\n\t\t\tdepAirportCn: '', 起飞机场\n\t\t\tdptTerminal: '', 起飞机场航站楼\n\t\t\tarrTime: '', 到达时间\n\t\t\tarrCityCn:'', 到达机场\n\t\t\tarrTerminal:'', 到达机场航站楼\n\t\t\tstops: '', 是否经停\n\t\t\tminPrice: '', 最低价格\n\t\t\tsaleSeats: '' 票量是否充足 A 充足\n\t\t\tcompImg: '', 航司图片地址 https://yunji-flight.oss-cn-shenzhen.aliyuncs.com/images/airlineIcon/ + compImg\n\t\t\tairlineName: '', 航司名称\n\t\t\tcode: '', 航司代码\n\t\t\tplaneType: '', 机型代号\n\t\t\tplaneSize: '', 飞机尺寸,\n\t\t\toperatingCode: '', 是否是共享航班\n\t\t\tminDiscount: '', 优惠几折\n\t\t\tisHasEconomyCabin: '', 是否有经济舱等\n\t\t\tcode: '', 航班代号\n\t\t}\n\t]\n}\n")])])]),n("h3",{attrs:{id:"航班详情查询"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#航班详情查询"}},[t._v("#")]),t._v(" 航班详情查询")]),t._v(" "),n("p",[t._v("https://flighttest.yhair.cc/yhtestqueryservice/flight/flightQuery")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('{\n\tarrCity: "SHA",\n  depCity: "CAN",\n  departDate: "2021-12-09",\n  flightNo: "9C6526",\n}\n')])])]),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("flights: [\n\t{\n\t\tcode: '', 航班号\n\t\tdptAirport: '', 出发城市三字码\n\t\tarrAirport: '', 到达城市三字码\n\t\tdptDate: '', 出发日期\n\t\tarrDate: '', 到达日期\n    dptTime: '', 起飞时间\n    arrTime: '', 到达时间\n    depAirportCn: '', 起飞机场\n    arrCityCn:'', 到达机场\n    dptCityCn: '', 出发城市\n    arrCityCn: '', 到达城市\n    dptTerminal: '', 起飞机场航站楼\n    arrTerminal:'', 到达机场航站楼\n    duration: '', 飞行时间\n    compImg: '', 航司图片地址 https://yunji-flight.oss-cn-shenzhen.aliyuncs.com/images/airlineIcon/ + compImg\n    airlineName: '', 航司名称\n    planeTypeName: '', 机型名称\n    planeType: '', 机型代号\n    planeSize: '', 飞机尺寸\n    meal: '', 是否有餐饮\n    operatingCarrier: '', 共享航班航司代号 图片拼接\n    operatingAirlineName: '',共享航班名称\n    operatingCode: '', 共享航班代号\n    checkString: '', 验价参数\n    cabinPrices: [\n    \t{\n    \t\tcabinClass: '', 舱等代码 1 经济舱 2，3 商务舱/头等舱\n    \t\tsuppsaleType: '', 数据源\n    \t\tpriceType: '', 价格类型\n    \t\tsalePrice: '', 价格 price === 0 && 未选择保险 价格+10\n    \t\tdiscount: '', 优惠几折\n    \t\tminRefChgPrice: '', 最低退改费用\n    \t\tseatsForSale: '', 剩余票数  9 || A 不显示\n    \t\tfullPrice: '', 舱等全价\n    \t\tpassType: '', 可无 历史原因\n    \t\tcabinYprice: '', Y舱价格\n    \t\tsaleCabinCode: '',舱位代码\n    \t\tprintPrice: '',票面价\n    \t\tticketInvoiceType: '',行程单\n    \t\tcommission: '',佣金\n    \t\tsubsidyPrice: '',云集平台补贴金额\n    \t\tdiscountPrice: '',直降金额\n        chdPrice: '', 儿童/婴儿票价格\n        chdAirportFee: '', 儿童/婴儿票机建费用\n        chdFuelTax: '', 儿童/婴儿票燃油费用\n        airportFee: '', 成人机建费用\n        fuelTax: '',  成人燃油费用\n    \t\tluggageRules: [\n    \t\t\t{\n    \t\t\t\ttype: '', 2 托运行李额 1 手提行李额\n    \t\t\t\tdesc1: '', 托运行李额说明 html可解析\n    \t\t\t\tweight: '' 0 无免费行李额\n    \t\t\t}\n    \t\t],\n        rules: {\n          refundStipulate: '', 成人退票手续费\n          changeStipulate: '', 成人同舱改签费\n          modifyStipulate: '', 成人签转说明\n          chdRefundStipulate: '', 儿童退票手续费\n          chdChangeStipulate: '', 儿童同舱改签费\n          chdModifyStipulate: ''  儿童签转说明\n        }\n    \t}\n    ]\n\t}\n]\n")])])]),n("h3",{attrs:{id:"舱位验价"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#舱位验价"}},[t._v("#")]),t._v(" 舱位验价")]),t._v(" "),n("p",[t._v("http://flighttest.yhair.cc/yhtestcheckservice/flight/checkPriceNew")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("{\n\tcheckString:'' 舱位checkString字段\n}\n")])])]),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('"xxxxxx" 一段字符串 下单时传递\n')])])]),n("h3",{attrs:{id:"创单-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#创单-2"}},[t._v("#")]),t._v(" 创单")]),t._v(" "),n("p",[t._v("http://flighttest.yhair.cc/yhtcback/tc/code/yhH5OrderIn")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('{\n    "couponId":null, 优惠券id\n    "couponAmount":0, 优惠券金额\n    "integralNum":0, 积分数量\n    "integralPrice":0, 积分抵扣的钱\n    "operatingCode":null, 共享航班代码\n    "operatingCarrier":null, 共享航班航司编号\n    "operatingAirlineName":null, 共享航班航司名称\n    "checkString":"", checkString\n    "order":"", 验价返回的数据\n    "userId":"",\n    "insureList":[ 保险数据\n        {\n            "productid":"700001",\n            "count":0\n        },\n        {\n            "productid":"500002",\n            "count":1\n        },\n        {\n            "productid":"600001",\n            "count":0\n        }\n    ],\n    "linkMan":"李三",      联系人\n    "linkPhone":"13333333333",\n    "contactName":null,   行程单\n    "contactPhone":null,\n    "expressFee":0,\n    "contactAddress":null,\n    "totalPrice":"289.00", 总价\n    "segments":[\n        {\n            "code":"9C6526",\n            "operatingCode":"",\n            "dptDate":"2021-12-09",\n            "arrDate":"2021-12-09",\n            "dptTime":"11:40",\n            "arrTime":"13:55",\n            "dptAirport":"CAN",\n            "arrAirport":"PVG",\n            "depCityCn":"广州",\n            "arrCityCn":"上海浦东",\n            "acCn":"春秋航空",\n            "depTerminal":"白云国际机场T1",\n            "arrTerminal":"浦东国际机场T2",\n            "duration":"2小时15分钟",\n            "isMeal":false,\n            "cabinPrice":[\n                {\n                    "fullPrice":1620,\n                    "cabinYprice":1620,\n                    "chdPrice":810,\n                    "cabinClass":"1",\n                    "saleCabinCode":"P1",\n                    "suppsaleType":"qspecial",\n                    "salePrice":189,\n                    "printPrice":189,\n                    "airportFee":50,\n                    "fuelTax":20,\n                    "ticketInvoiceType":2,\n                    "commission":0,\n                    "subsidyPrice":null,\n                    "discountPrice":null,\n                    "realPrice":189,\n                    "chdAirportFee":0,\n                    "chdFuelTax":10\n                }\n            ]\n        }\n    ],\n    "passengers":[\n        {\n            "name":"李三",\n            "cardType":"NI",\n            "type":0,\n            "cardNo":"110101199303077776",\n            "phone":"13333333333",\n            "birthday":"1993-03-07",\n            "airportFee":50, \n            "fuelTax":20\n        }\n    ],\n    "priceType":0\n}\n')])])]),n("h3",{attrs:{id:"订单列表-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#订单列表-2"}},[t._v("#")]),t._v(" 订单列表")]),t._v(" "),n("p",[t._v("http://flighttest.yhair.cc/yhtcback/tc/code/queryYhOrder")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('{\n  consumerid: "hbJVx56QlwBUP9Dbv6fJPg",\n  page: 1, \n  row: 20,\n  type: 1, \n  userid: "hbJVx56QlwBUP9Dbv6fJPg"\n}\n')])])]),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("{\n\ttotalPage: ''\n\torderList: [\n\t\t{\n\t\t\tstatus: '', 订单状态\n\t\t\torderno: '', 订单号\n\t\t\taccn: '', 航司\n\t\t\tdepcitycn: '', 出发城市\n\t\t\tarrcitycn: '', 到达城市\n\t\t\ttotalprice: '', 票价\n\t\t\tdepartdate: '', 出发日期\n\t\t\tdeptime: '', 出发时间\n\t\t\tarrtime: '', 到达时间\n\t\t\taddtimefmt: '' 下单时间\n\t\t}\n\t]\n}\n")])])]),n("h3",{attrs:{id:"订单详情-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#订单详情-2"}},[t._v("#")]),t._v(" 订单详情")]),t._v(" "),n("p",[t._v("http://flighttest.yhair.cc/yhtcback/tc/code/queryYhOrder")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('{\n\tconsumerid: "hbJVx56QlwBUP9Dbv6fJPg",\n  orderno: "YHQISHI20211203162258504",\n  shopid: null,\n  type: 3,\n  userid: "hbJVx56QlwBUP9Dbv6fJPg",\n}\n')])])]),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("{\n\tlotteryNum: '', 抽奖次数 用于显示抽奖入口\n\tchdFuelTax: '', 儿童燃油费用 用于退改规则展示\n\tchdAirportFee: '', 儿童机建费用\n\torderInfo: {\n\t\tid: '',\n\t\tstatus: '', \n\t\torderno: '',\n\t\ttotalprice: '', 总价\n\t\tsaleprice: '', 成人价格\n\t\tchdPrice: '', 儿童价格\n\t\texpressfee: '', 行程单费用\n\t\tcouponAmount: '',\n\t\tintegralnum: '',\n\t\tintegralprice: '',\n\t\taccn: '',\n\t\tflightno: '',\n\t\thasmeal: '',\n\t\tdepartDate: '',\n\t\tarrdate: '',\n\t\tdepairport: '',\n\t\tarrairport: '',\n\t\tdeptime: '',\n\t\tdepterminal: '',\n\t\tarrtime: '',\n\t\tarrterminal: '',\n\t\tduration: '',\n\t\toperatingcarrier: '',\n\t\toperatingairlinename: '',\n\t\toperatingcode: '',\n\t\tlinkman: '',\n\t\tlinkphone: '',\n    luggageRules: [\n      {\n        type: '', 2 托运行李额 1 手提行李额\n        desc1: '', 托运行李额说明 html可解析\n        weight: '' 0 无免费行李额\n      }\n    ],\n    rules: {\n      refundStipulate: '', 成人退票手续费\n      changeStipulate: '', 成人同舱改签费\n      modifyStipulate: '', 成人签转说明\n      chdRefundStipulate: '', 儿童退票手续费\n      chdChangeStipulate: '', 儿童同舱改签费\n      chdModifyStipulate: ''  儿童签转说明\n    }\n\t},\n\tpassengerList: [\n\t\t{\n\t\t\tid: '',\n\t\t\tname: '',\n\t\t\tcardtype: '',\n\t\t\tcardno: '',\n\t\t\tstatus: '',\n\t\t\trefundstatus: '', 1 退票中 2 退票完成\n\t\t\tchgstatus: '', 1 改签中 2 改签完成\n\t\t\tticketno: '',\n\t\t\tchgstatus: '',\n\t\t\tpasstype: '',\n\t\t\tairportfee: '',\n\t\t\tfueltax: '',\n\t\t\thasaccidentinsure: '', 1 true 0 false\n\t\t\taccidentinsureprice: '', \n\t\t\thasrefundinsure: '',\n\t\t\trefundinsureprice: '',\n\t\t\thasdelayinsure: '',\n\t\t\tdelayinsureprice: '',\n\t\t\trules: {\n\t\t\t\tchdChangeStipulateDate: '', 改签预估价格数据JSON.stringfy\n\t\t\t\tchangeStipulateDate: '',\n\t\t\t\tchdRefundStipulateDate: '', 退票预估价格数据JSON.stringfy\n\t\t\t\trefundStipulateDate: ''，\n\t\t\t\tchdInvoluntaryRefundTip: '',退票原因对应不同提示\n\t\t\t\tinvoluntaryRefundTip: '',\n\t\t\t\tchdVoluntarilyRefundTip: '',\n\t\t\t\tvoluntarilyRefundTip: '',\n\t\t\t\tchdOtherReasonsRefundTip: '',\n\t\t\t\totherReasonsRefundTip: ''\n\t\t\t}\n\t\t}\n\t],\n\tchgInfoList: [\n\t\t{\n\t\t\t\tchgDepDate: '',\n\t\t\t\tchgDepTime: '',\n\t\t\t\tchgArrDate: '',\n\t\t\t\tchgArrTime: '',\n\t\t\t\tchgDepCityCn: '',\n\t\t\t\tchgArrCityCn: '',\n\t\t\t\tchgCabinClass: '',\n\t\t\t\tdepartTerminal: '',\n\t\t\t\tarrTerminal: '',\n\t\t\t\tchgStopInfo: '',\n\t\t\t\tchgDuration: '',\n\t\t\t\tchgCarrierName: '',\n\t\t\t\tchgFlightNo: '',\n\t\t\t\tisMeal: '',\n\t\t\t\tchgoperatingcode: '',\n\t\t\t\tchgoperatingcarrier: '',\n\t\t\t\tchgoperatingairlinename: '',\n\t\t\t\tchgoperatingcode: '',\n\t\t\t\tstatus: '',\n\t\t\t\tdepartTerminal: '',\n\t\t\t\tarrTerminal: ''\n\t\t}\n\t]\n}\n")])])]),n("h3",{attrs:{id:"退改签状态查询"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#退改签状态查询"}},[t._v("#")]),t._v(" 退改签状态查询")]),t._v(" "),n("p",[t._v("https://flighttest.yhair.cc/yhtcback/tc/code/getPsgById")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('{\n\tid: 1760003, 乘客列表的id 这个接口例外 没有签名包装\n  sign: "eb70fbca44bcba96b4fc13d71a572b41",\n  timestamp: 1638524365000,\n  user: "qishi",\n}\n')])])]),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("{\n\tYhOrderPassenger: {\n\t\trefundstatus: '',  1，2 中断退改\n\t\tchgstatus: ''1，2 中断退改\n\t}\n}\n")])])]),n("h3",{attrs:{id:"改签航班列表查询"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#改签航班列表查询"}},[t._v("#")]),t._v(" 改签航班列表查询")]),t._v(" "),n("p",[t._v("https://flighttest.yhair.cc/yhtestqueryservice/flight/flightQuery")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('{\n  arrCity: "PVG",\n  carrier: "9C",\n  dataType: "chgFlight",\n  depCity: "CAN",\n  departDate: "2021-12-09",\n  flightNo: "9C6686",\n  price: "199",\n}\n')])])]),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("{\n\tacCompMap: [  筛选航司数据\n\t\t{\n\t\t\tcarr: '',\n\t\t\tairName: ''\n\t\t}\n\t],\n\tarrAirportCompMap: [ 筛选到达机场数据\n\t\t{\n\t\t\tarrAirport: '',\n\t\t\tarrAirportAbbr: ''\n\t\t}\n\t],\n\tdepAirportCompMap: [ 筛选出发机场数据\n\t\t{\n\t\t\tdepAirport: '',\n\t\t\tdepAirportAbbr: ''\n\t\t}\n\t],\n\ttips: [ 防疫通知\n\t\t{\n\t\t\ttitle: '',\n\t\t\ttext: ''\n\t\t}\n\t],\n\tflights: [\n\t\t{\n\t\t\tdptTime: '', 起飞时间\n\t\t\tdepAirportCn: '', 起飞机场\n\t\t\tdptTerminal: '', 起飞机场航站楼\n\t\t\tarrTime: '', 到达时间\n\t\t\tarrCityCn:'', 到达机场\n\t\t\tarrTerminal:'', 到达机场航站楼\n\t\t\tstops: '', 是否经停\n\t\t\tminPrice: '', 最低价格\n\t\t\tsaleSeats: '' 票量是否充足 A 充足\n\t\t\tcompImg: '', 航司图片地址 https://yunji-flight.oss-cn-shenzhen.aliyuncs.com/images/airlineIcon/ + compImg\n\t\t\tairlineName: '', 航司名称\n\t\t\tcode: '', 航司代码\n\t\t\tplaneType: '', 机型代号\n\t\t\tplaneSize: '', 飞机尺寸,\n\t\t\toperatingCode: '', 是否是共享航班\n\t\t\tminDiscount: '', 优惠几折\n\t\t\tisHasEconomyCabin: '', 是否有经济舱等\n\t\t\tcode: '', 航班代号\n\t\t\tarrDate: '',\n\t\t\tdptDate: '',\n\t\t\toperatingAirlineName: '',\n\t\t\toperatingCarrier: '',\n\t\t\tmeal: '',\n\t\t\tcabinPrices: [\n\t\t\t\t{\n\t\t\t\t\tsaleCabinCode: '',\n\t\t\t\t\tprintPrice: '',\n\t\t\t\t\tsalePrice: '',\n\t\t\t\t\tcabinClass: '',\n\t\t\t\t\tfullPrice: ''\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]\n}\n")])])]),n("h3",{attrs:{id:"改签提交"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#改签提交"}},[t._v("#")]),t._v(" 改签提交")]),t._v(" "),n("p",[t._v("https://flighttest.yhair.cc/yhtcback/tc/code/yhH5FlightOrderChgApply")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('{\n    "orderNo":"YHQISHI20211203171409015",\n    "type":4,\n    "chgids":"1760003-",\n    "consumerId":"hbJVx56QlwBUP9Dbv6fJPg",\n    "chgOperatingCode":null,\n    "chgOperatingCarrier":null,\n    "chgOperatingAirlineName":null,\n    "chgFlightNo":"9C8930",\n    "chgDepTime":"06:45",\n    "chgCabinCode":"P1G",\n    "chgPrintPrice":269,\n    "chgSalePrice":269,\n    "chgArrDate":"2021-12-09",\n    "chgArrTime":"09:00",\n    "chgDepDate":"2021-12-09",\n    "chgDepartTerminal":"白云国际机场T1",\n    "chgArrTerminal":"虹桥机场T1",\n    "isMeal":false,\n    "chgCabinClass":"1",\n    "chgFullPrice":1950\n}\n')])])]),n("h3",{attrs:{id:"退票提交"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#退票提交"}},[t._v("#")]),t._v(" 退票提交")]),t._v(" "),n("p",[t._v("https://flighttest.yhair.cc/yhtcback/tc/code/yhH5RefundOrder")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("{\n\torderId: 1049069,          \n\tpgnIds: '1760003-',\n\treasonId: 3,  1 2 自愿退票  5 其他原因退票 \n\tuserId: ''\n}\n")])])]),n("h3",{attrs:{id:"乘客-查询"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#乘客-查询"}},[t._v("#")]),t._v(" 乘客-查询")]),t._v(" "),n("p",[t._v("http://flighttest.yhair.cc/yhnodeservice/order/queryFrequentPassenger")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('{\n  type: 1,\n  userId: "hbJVx56QlwBUP9Dbv6fJPg"\n}\n')])])]),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("[\n\t{\n\t\tid: '',\n\t\tpassType: '', 0 成人 1 儿童\n\t\tcardType: '',\n\t\tname: '',\n\t\tbirthday: '',\n\t\tmobile: '',\n\t\tcardType: '' NI 身份证  PP 护照 OT 其他\n\t}\n]\n")])])]),n("h3",{attrs:{id:"乘客-删除"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#乘客-删除"}},[t._v("#")]),t._v(" 乘客-删除")]),t._v(" "),n("p",[t._v("http://flighttest.yhair.cc/yhnodeservice/order/opFrequentPassenger")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("{\n\tid: '',\n\ttype: 3,\n\tuserId: ''\n}\n")])])]),n("h3",{attrs:{id:"乘客-编辑"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#乘客-编辑"}},[t._v("#")]),t._v(" 乘客-编辑")]),t._v(" "),n("p",[t._v("http://flighttest.yhair.cc/yhnodeservice/order/opFrequentPassenger")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('{\n    "id":1154,\n    "userId":"hbJVx56QlwBUP9Dbv6fJPg",\n    "name":"马强",\n    "passType":0,\n    "cardNo":"421024199207032511",\n    "cardType":"NI",\n    "birthday":"1992-07-03",\n    "mobile":"13795378424",\n    "addTime":1637302399000,\n    "type":2\n}\n')])])]),n("h3",{attrs:{id:"乘客-添加"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#乘客-添加"}},[t._v("#")]),t._v(" 乘客-添加")]),t._v(" "),n("p",[t._v("http://flighttest.yhair.cc/yhnodeservice/order/opFrequentPassenger")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('{\n    "id":null,\n    "userId":"hbJVx56QlwBUP9Dbv6fJPg",\n    "name":"代赛峰",\n    "cardType":"NI",\n    "cardNo":"340621199304124031",\n    "mobile":"15555555555",\n    "birthday":"1993-04-12",\n    "passType":0,\n    "type":1\n}\n')])])])])}),[],!1,null,null,null);a.default=s.exports}}]);